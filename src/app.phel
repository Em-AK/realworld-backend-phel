(ns realworld\app
  (:require realworld\controller\api)
  (:require phel\router :as r)
  (:require phel\http :as h))

(def app
  (r/handler
   (r/router
    [["/api"
      ["/tags" {:get {:handler api/list-tags}}]]])))

(when-not *build-mode*
  (h/emit-response (app (h/request-from-globals))))
